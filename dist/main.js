(()=>{"use strict";const e=(()=>{const e=(t,r)=>0===r?t:e(t.parentNode,r-1);return{qs:e=>document.querySelector(e),addChildren:(e,t)=>{t.forEach((t=>{e.appendChild(t)}))},textEl:(e,t)=>{const r=document.createElement(e);return r.innerHTML=t,r},classyDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t},cel:(e,t="")=>{const r=document.createElement(e);return""!==t&&r.setAttribute("class",t),r},nthParent:e}})(),t=(t,r)=>{r.forEach(((r,n)=>{let o=e.cel(r[0],r[1]);3===r.length&&(o.innerHTML=r[2]),t.appendChild(o)})),t.setAttribute("data-in",!0)},r=async function(e,r,n){let o=e+`${r}&appid=${n}`;console.log(o);let c=await fetch(o);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);(e=>{let r=e.name,n=(e.sys.country,e.main.temp),o=(e.main.feels_like,e.weather[0]),c=o.main,l=o.description,a=document.querySelectorAll(".weather-container"),i=document.querySelector(".cloudy"),s=document.querySelector(".clear-day"),u=document.querySelector(".rain"),d=document.querySelector(".partly-cloudy");n=n.toString().split(".")[0]+" F°",a.forEach((e=>{e.classList.add("d-none")}));let m=[["h2","place",r],["h3","temp title is-3",n],["p","detail",l]];const y=(e,t)=>{t.forEach((t=>{e.querySelector(t[0]).innerHTML=t[2]}))};"Clouds"===c?(i.classList.remove("d-none"),i.getAttribute("data-in")?y(i,m):t(i,m)):"Clear"===c?(s.classList.remove("d-none"),s.getAttribute("data-in")?y(s,m):t(s,m)):"Thunderstorm"===c||"Rain"===c||"Dizzle"===c?(u.classList.remove("d-none"),u.getAttribute("data-in")?y(u,m):t(u,m)):(d.classList.remove("d-none"),d.getAttribute("data-in")?y(d,m):t(d,m))})(await c.json()),document.querySelector(".switch-light").style.opacity=.5};document.querySelectorAll(".weather-container").forEach((e=>{e.classList.add("d-none")})),document.querySelector('input[type="checkbox"]').onclick=function(){let e=document.querySelector(".temp"),t=parseFloat(e.innerHTML.split(" ")[0]);const r=e=>e.innerHTML.toString().split("").splice(-2)[0];if("F"===r(e)){let r=(5/9*(t-32)).toString().split(".")[0];e.innerHTML=r+" C°"}else if("C"===r(e)){let r=(1.8*t+32).toString().split(".")[0];e.innerHTML=r+" F°"}};const n=document.querySelector("#getWeather");n.onclick=function(){let e=document.querySelector("#locQuery").value;if(e.length>0)r("https://api.openweathermap.org/data/2.5/weather?q=",e,"0028ea367b25a551e7348f7875810282").catch((e=>{console.log("There has been a problem with your fetch operation: "+e.message)})),document.querySelector("#locQuery").value="";else{let e=document.querySelector("#locQuery");e.setAttribute("placeholder","Try another location"),e.value=""}},document.querySelector(".input-container").addEventListener("keypress",(e=>{"Enter"===e.key&&n.click()})),document.querySelector("#locQuery").focus()})();