(()=>{"use strict";const e=(()=>{const e=(t,n)=>0===n?t:e(t.parentNode,n-1);return{qs:e=>document.querySelector(e),addChildren:(e,t)=>{t.forEach((t=>{e.appendChild(t)}))},textEl:(e,t)=>{const n=document.createElement(e);return n.innerHTML=t,n},classyDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t},cel:(e,t="")=>{const n=document.createElement(e);return""!==t&&n.setAttribute("class",t),n},nthParent:e}})(),t=(t,n)=>{n.forEach(((n,o)=>{let r=e.cel(n[0],n[1]);3===n.length&&(r.innerHTML=n[2]),t.appendChild(r)}))},n=async function(e,n,o){let r=e+`${n}&appid=${o}`;console.log(r);let a=await fetch(r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);(e=>{let n=e.name,o=(e.sys.country,e.main.temp),r=(e.main.feels_like,e.weather[0]),a=r.main,l=r.description,c=document.querySelectorAll(".weather-container"),i=document.querySelector(".cloudy"),s=document.querySelector(".clear-day"),d=document.querySelector(".rain"),u=document.querySelector(".partly-cloudy");o=o.toString().split(".")[0]+" F°",c.forEach((e=>{e.classList.add("d-none")}));let y=[["h2","place",n],["h3","temp title is-3",o],["p","detail",l]];"Clouds"===a?(i.classList.remove("d-none"),t(i,y)):"Clear"===a?(s.classList.remove("d-none"),t(s,y)):"Thunderstorm"===a||"Rain"===a||"Dizzle"===a?(d.classList.remove("d-none"),t(d,y)):(u.classList.remove("d-none"),t(u,y))})(await a.json()),document.querySelector(".switch-light").style.opacity=.5};document.querySelectorAll(".weather-container").forEach((e=>{e.classList.add("d-none")})),document.querySelector('input[type="checkbox"]').onclick=function(){let e=document.querySelector(".temp"),t=parseFloat(e.innerHTML.split(" ")[0]);const n=e=>e.innerHTML.toString().split("").splice(-2)[0];if("F"===n(e)){let n=(5/9*(t-32)).toString().split(".")[0];e.innerHTML=n+" C°"}else if("C"===n(e)){let n=(1.8*t+32).toString().split(".")[0];e.innerHTML=n+" F°"}};const o=document.querySelector("#getWeather");o.onclick=function(){let e=document.querySelector("#locQuery").value;e.length>0?n("https://api.openweathermap.org/data/2.5/weather?q=",e,"0028ea367b25a551e7348f7875810282").catch((e=>{console.log("There has been a problem with your fetch operation: "+e.message)})):document.querySelector("#locQuery").setAttribute("placeholder","Try another location")},document.querySelector(".input-container").addEventListener("keypress",(e=>{"Enter"===e.key&&o.click()})),document.addEventListener("DOMContentLoaded",(()=>{function e(e){var t=document.querySelector(".droplet-container");t.insertAdjacentHTML("afterbegin",'<div class="droplet"></div>');var n=t.firstChild;n.style.left=e.left+"%",n.style["animation-delay"]=e.delay+"s",n.style.opacity=e.opacity}for(var t=0;t<20;t++)e({left:parseInt(100*Math.random()),delay:3*Math.random().toFixed(3),opacity:.5*Math.random().toFixed(2)});function n(e){var t=document.querySelector(".snowflake-container");t.insertAdjacentHTML("afterbegin",'<div class="snowflake"></div>');var n=t.firstChild;n.style.left=e.left+"%",n.style.width=e.size+"px",n.style.height=e.size+"px",n.style["animation-delay"]=e.delay+"s",n.style["animation-duration"]=e.snowFallDuration+"s, "+e.snowDriftDuration+"s",n.style.opacity=e.opacity}for(t=0;t<10;t++)n({left:parseInt(100*Math.random()),size:Math.floor(11*Math.random()+5),delay:10*Math.random().toFixed(3),snowFallDuration:Math.floor(5*Math.random()+10),snowDriftDuration:Math.floor(4*Math.random()+4),opacity:.7*Math.random().toFixed(2)})})()),document.querySelector("#locQuery").focus()})();