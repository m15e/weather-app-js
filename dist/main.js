(()=>{"use strict";const e=(()=>{const e=(t,n)=>0===n?t:e(t.parentNode,n-1);return{qs:e=>document.querySelector(e),addChildren:(e,t)=>{t.forEach((t=>{e.appendChild(t)}))},textEl:(e,t)=>{const n=document.createElement(e);return n.innerHTML=t,n},classyDiv:e=>{const t=document.createElement("div");return t.setAttribute("class",e),t},cel:(e,t="")=>{const n=document.createElement(e);return""!==t&&n.setAttribute("class",t),n},nthParent:e}})(),t=(t,n)=>{n.forEach((n=>{const o=e.cel(n[0],n[1]);3===n.length&&(o.innerHTML=n[2].toString()),t.appendChild(o)})),t.setAttribute("data-in",!0)},n=async function(e,n,o){const r=`${e}${n}&appid=${o}`,a=await fetch(r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);(e=>{const n=e.name;let{temp:o}=e.main;const r=e.weather[0],a=r.main,c=r.description,i=document.querySelectorAll(".weather-container"),l=document.querySelector(".cloudy"),s=document.querySelector(".clear-day"),d=document.querySelector(".rain"),u=document.querySelector(".partly-cloudy");o=`${o.toString().split(".")[0]} F°`,i.forEach((e=>{e.classList.add("d-none")}));const y=[["h2","place",n],["h3","temp title is-3",o],["p","detail",c]],m=(e,t)=>{t.forEach((t=>{e.querySelector(t[0]).innerHTML=t[2].toString()}))};"Clouds"===a?(l.classList.remove("d-none"),l.getAttribute("data-in")?m(l,y):t(l,y)):"Clear"===a?(s.classList.remove("d-none"),s.getAttribute("data-in")?m(s,y):t(s,y)):"Thunderstorm"===a||"Rain"===a||"Dizzle"===a?(d.classList.remove("d-none"),d.getAttribute("data-in")?m(d,y):t(d,y)):(u.classList.remove("d-none"),u.getAttribute("data-in")?m(u,y):t(u,y))})(await a.json()),document.querySelector(".switch-light").style.opacity=.5};document.querySelectorAll(".weather-container").forEach((e=>{e.classList.add("d-none")})),document.querySelector('input[type="checkbox"]').onclick=function(){const e=document.querySelector(".temp"),t=parseFloat(e.innerHTML.split(" ")[0]),n=e=>e.innerHTML.toString().split("").splice(-2)[0];if("F"===n(e)){const n=(5/9*(t-32)).toString().split(".")[0];e.innerHTML=`${n} C°`}else if("C"===n(e)){const n=(1.8*t+32).toString().split(".")[0];e.innerHTML=`${n} F°`}};const o=document.querySelector("#getWeather");o.onclick=function(){const e=document.querySelector("#locQuery").value;if(e.length>0)n("https://api.openweathermap.org/data/2.5/weather?q=",e,"0028ea367b25a551e7348f7875810282").catch((e=>{alert(`There has been a problem with your fetch operation: ${e.message}`)})),document.querySelector("#locQuery").value="";else{const e=document.querySelector("#locQuery");e.setAttribute("placeholder","Try another location"),e.value=""}},document.querySelector(".input-container").addEventListener("keypress",(e=>{"Enter"===e.key&&o.click()})),document.addEventListener("DOMContentLoaded",(()=>{function e(e){const t=document.querySelector(".droplet-container");t.insertAdjacentHTML("afterbegin",'<div class="droplet"></div>');const n=t.firstChild;n.style.left=`${e.left}%`,n.style["animation-delay"]=`${e.delay}s`,n.style.opacity=e.opacity}for(let t=0;t<20;t+=1)e({left:parseInt(100*Math.random(),10),delay:3*Math.random().toFixed(3),opacity:.5*Math.random().toFixed(2)});function t(e){const t=document.querySelector(".snowflake-container");t.insertAdjacentHTML("afterbegin",'<div class="snowflake"></div>');const n=t.firstChild;n.style.left=`${e.left}%`,n.style.width=`${e.size}px`,n.style.height=`${e.size}px`,n.style["animation-delay"]=`${e.delay}s`,n.style["animation-duration"]=`${e.snowFallDuration}s, ${e.snowDriftDuration}s`,n.style.opacity=e.opacity}for(let e=0;e<10;e+=1)t({left:parseInt(100*Math.random(),10),size:Math.floor(11*Math.random()+5),delay:10*Math.random().toFixed(3),snowFallDuration:Math.floor(5*Math.random()+10),snowDriftDuration:Math.floor(4*Math.random()+4),opacity:.7*Math.random().toFixed(2)})})()),document.querySelector("#locQuery").focus()})();